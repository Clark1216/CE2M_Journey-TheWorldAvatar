{
	"name": "Cambridge",
    "mapOptions": {
        "center": [0.12187957763671875, 52.2040299172616],
        "zoom": 12,
        "bearing": 0,
        "pitch": 45,
        "style": "mapbox://styles/mapbox/light-v10?optimize=true"
    },
	"sources": [
        {
            "id": "area-of-interest",
            "type": "geojson",
            "data": "data/cambridge/aoi.geojson",
            "generateId": true
        },
        {
            "id": "buildings",
            "type": "geojson",
            "data": "data/cambridge/buildings.geojson"
        },
        {
            "id": "colleges",
            "type": "geojson",
            "data": "data/cambridge/colleges.geojson",
            "cluster": true,
            "clusterMaxZoom": 14,
            "clusterRadius": 40
        }
	], 
	"layers": [
        {
            "id": "aoi-layer",
			"name": "Area of Interest", 
            "source": "area-of-interest",
            "type": "circle",
            "clickable": false,
            "treeable": false,
            "maxzoom": 8,
            "layout": {
                "visibility": "visible"
			},
			"paint": {
				"circle-radius": ["interpolate", ["linear"], ["zoom"], 4, 25, 8, 100],
                "circle-opacity": 0.25,
                "circle-color": "#000000",
                "circle-stroke-width": 0
            }
        },
        {
            "id": "buildings-layer",
            "name": "Buildings",
            "source": "buildings",
            "type": "fill-extrusion",
            "minzoom": 8, 
            "layout": {
                "visibility": "visible"
            },
            "paint": {
                "fill-extrusion-color": "#000000",
                "fill-extrusion-opacity": 0.33,
                "fill-extrusion-base": 0,
                "fill-extrusion-height": [
                    "case",
                    ["has", "building:levels"],
                    ["*", 10, ["to-number", ["get", "building:levels"]]],
                    8
                ]
            }
        },
        {
            "id": "buildings-outline-layer",
            "name": "Buildings",
            "source": "buildings",
            "type": "line",
            "minzoom": 8, 
            "layout": {
                "visibility": "visible"
            },
            "paint": {
                "line-color": "#000000",
                "line-opacity": 0.4
            }
        },
        {
            "id": "colleges-layer",
            "name": "Colleges",
            "source": "colleges",
            "type": "symbol",
            "filter": ["!", ["has", "point_count"]],
            "minzoom": 8, 
            "layout": {
                "visibility": "visible",
                "icon-image": ["get", "icon-image"],
                "icon-size": ["interpolate", ["linear"], ["zoom"], 12, 0.25, 20, 0.5],
                "icon-allow-overlap": true,
                "icon-ignore-placement": true
            }
        },
        {
            "id": "colleges-layer_cluster",
            "name":  "Colleges",
            "source": "colleges",
            "type": "symbol",
            "filter": ["has", "point_count"],
            "minzoom": 8, 
            "layout": {
                "visibility": "visible",
                "icon-image": "empty",
                "icon-size": ["interpolate", ["linear"], ["zoom"], 12, 0.25, 20, 0.5],
                "icon-allow-overlap": true,
                "icon-ignore-placement": true,
                "text-field": "{point_count_abbreviated}",
                "text-font": ["Arial Unicode MS Bold"],
                "text-size": 12,
                "text-anchor": "center",
                "text-offset": [0, -0.15]
            }
        }
	]
}