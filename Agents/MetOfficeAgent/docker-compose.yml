version: "3.8"

services:
  metoffice_agent_debug:
    container_name: metoffice_agent_debug
    image: docker.cmclinnovations.com/metoffice_agent_debug:1.0.0-SNAPSHOT
    build:
      # Path to dockerfile ('.' represents current directory with .yml file)
      context: .
      target: debug
    ports:
      # Mapping of container port to host (host:container)
      - "5050:5000"
      - "5678:5678"
    volumes:
      # Link container working dir with local dir to allow flask hot-reload functionality
      # Link container output directory to local directory to access output files
      # (local dir : dir in container)
      - "./metoffice:/app/metoffice"
      - ".:/app/output"