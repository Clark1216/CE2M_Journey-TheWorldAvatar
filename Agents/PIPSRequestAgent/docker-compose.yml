version: "3.8"

services:
  pips-request-agent:
    image: pips-request-agent:1.0.0
    build: .
    container_name: pips-request-agent
    pull_policy: if_not_present
    environment:
       PIPS_AGENT_TIMESERIES_PATH: http://<IP address>:<Port>/pips-timeseries-agent/timeseries
       KEYCLOAK_REALM_PATH: 
       CLIENT_ID: 
       CLIENT_SECRETS: /run/secrets/client_secrets
       USERNAME: /run/secrets/username
       PASSWORD: /run/secrets/password
    secrets:
       - client_secrets
       - username
       - password
    ports:
      - "1080:8080"

secrets:
  client_secrets:
    file: ./secrets/client_secrets.txt
  username:
    file: ./secrets/username.txt
  password:
    file: ./secrets/password.txt
