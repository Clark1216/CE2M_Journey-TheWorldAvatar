version: "2"

services:
  website:
    build:
      context: "./"
      dockerfile: "./docker/Dockerfile"
    container_name: "website"
    restart: always
    ports:
      - "80:80"
    volumes:
      - webroot:/var/www/html
    
  portainer:
    image: portainer/portainer
    container_name: "portainer"
    command: -H unix:///var/run/docker.sock
    restart: always
    ports:
      - "9000:9000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - portainer_data:/data
      
  ftp-server:
    image: stilliard/pure-ftpd
    container_name: "ftp-server"
    restart: always
    ports:
      - "21:21"
      - "30000-30009:30000-30009"
    environment:
      PUBLICHOST: "localhost"
      FTP_USER_NAME: ftp-user
      FTP_USER_PASS: m0delsrus
      FTP_USER_HOME: /mnt
    volumes:
      - webroot:/mnt/webroot
      - portainer_data:/mnt/portainer_data
    
volumes:
  portainer_data:
  webroot: