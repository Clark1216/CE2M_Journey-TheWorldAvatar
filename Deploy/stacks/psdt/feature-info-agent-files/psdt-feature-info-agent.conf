location = /feature-info-agent {
  return 308 $scheme://$http_host$uri/;
}
location /feature-info-agent/ {
  add_header 'Access-Control-Allow-Origin' '*' always;
  # Proxy settings and their defaults are discussed here
  # https://nginx.org/en/docs/http/ngx_http_proxy_module.html
  # Redirect to upstream (internal) server
  proxy_pass http://psdt-feature-info-agent_rest/feature-info-agent/;
  # Add proxy data to the header (can be used for upstream rewriting of returned URLs)
  proxy_set_header Host $host;
  proxy_set_header X-Real-IP $remote_addr;
  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
  proxy_set_header X-Forwarded-Host $http_host;
  proxy_set_header X-Forwarded-Proto $scheme;
  # Required to ensure the connection is not closed after each connection
  proxy_http_version 1.1;
  proxy_set_header "Connection" "";
  # Timeouts
  proxy_connect_timeout 60s;
  proxy_send_timeout 60s;
  proxy_read_timeout 60s;
  send_timeout 60s;
  # Increase max upload size
  client_max_body_size 10G;
}
