PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX : <https://www.theworldavatar.com/kg/ontoplot/postgres/plots/>
PREFIX plt:    <https://www.theworldavatar.com/kg/ontoplot/>
PREFIX regs:   <https://www.theworldavatar.com/kg/ontoplanningregulations/>
PREFIX om:     <http://www.ontology-of-units-of-measure.org/resource/om-2/>
PREFIX geo:    <http://www.opengis.net/ont/geosparql#>
PREFIX zone:   <https://www.theworldavatar.com/kg/ontozoning/>

SELECT ?iri WHERE {
  	SERVICE <ontop> {
      ?iri a plt:Plot ;
             geo:hasDefaultGeometry [geo:hasMetricArea ?area ] .
      ?zone zone:hasPlot ?iri;
             zone:hasZoneType [rdfs:label ?zonetype] .
      FILTER( [area]='null' || (?area <= [area] + 200 && ?area >= [area] - 200 ))
      FILTER( [zonetype]='null' || STR([zonetype]) = STR(?zonetype))
    }
}