class DynamicComponent{constructor(t){this.id_container="dynamicInterfaceContainer",this.id_title="dynamicComponentTitle",this.id_content="dynamicContent",console.log("Rendering an additional custom UI component..."),this.container=createDiv({id:this.id_container}),this.container_content=createDiv({id:this.id_content}),this.container_title=createDiv({id:this.id_title}),this.container_title.textContent=t}render(t){this.container.appendChild(this.container_title),this.container.appendChild(this.container_content),t.appendChild(this.container)}}function createDiv(t){return createHTMLElement("div",t)}function createHTMLElement(t,e){t=document.createElement(t);return e&&(e.id&&(t.id=e.id),e.classes)&&t.classList.add(...e.classes),t}class SeachEntityComponent extends DynamicComponent{constructor(t,e,n,i){super(t),this.baseStackUrl=e,this.initContainerAttributes();t=this.container_content,new SelectDropdownComponent("Zone Type").render(t),e=createHTMLElement("button");e.textContent="Submit",e.addEventListener("click",()=>this.handleSubmit(n,i)),t.appendChild(e)}initContainerAttributes(){this.container.id="searchContainer",this.container.classList.add("controlBlock"),this.container_title.id="controlTitle",this.container_title.classList.add("controlTitle"),this.container_content.removeAttribute("id"),this.container_content.classList.add("controlContents")}handleSubmit(e,n){e.setFilter(n,null);var t=this.retrieveSelectedOptions(this.container_content.firstElementChild);$.ajax({url:this.baseStackUrl+"/filter-agent/filter",type:"GET",data:{subs:`{"area":"'null'", "zonetype":"${t}"}`},success:function(t){t=t.slice(1,-1).split(", ");0<t[0].length&&e.setFilter(n,["in",["get","iri"],["literal",t]])},error:function(t){console.error("Error:",t)}})}retrieveSelectedOptions(t){let e=[];t.querySelectorAll('input[type="checkbox"]:checked').forEach(t=>{e.push(t.value)});let n="'null'";return 0<e.length&&(t=e.map(t=>`'${t}'`),n=t.join(",")),n}render(t){this.container.appendChild(this.container_title),this.container.appendChild(this.container_content),t.insertBefore(this.container,t.firstChild)}}class SearchTextInputComponent{constructor(t,e){this.container=createDiv();var n=createDiv(),t=(n.textContent=t,createHTMLElement("input"));t.type="text",t.placeholder=e,t.value="",this.container.appendChild(n),this.container.appendChild(t)}render(t){t.appendChild(this.container)}}class SelectDropdownComponent{constructor(e){this.option_index=1,this.container=createDiv();let n=createHTMLElement("button");n.textContent="Select "+e,this.dropdown_options_container=createDiv(),this.retrieveOptionValues().forEach(t=>{this.addOption(e,t.value,t.label)}),n.addEventListener("click",()=>{this.dropdown_options_container.style.display="block"}),document.addEventListener("click",t=>{n.contains(t.target)||this.dropdown_options_container.contains(t.target)||(this.dropdown_options_container.style.display="none")}),this.container.appendChild(n),this.container.appendChild(this.dropdown_options_container)}render(t){t.appendChild(this.container)}retrieveOptionValues(){return[{value:"Automiele",label:"Special Automeile Area"},{value:"Industry",label:"Industrial Area"}]}addOption(t,e,n){var t=t.trim().replace(/\s/g,"").toLowerCase()+this.option_index++,i=createHTMLElement("input"),e=(i.type="checkbox",i.id=t,i.value=e,createHTMLElement("label",{classes:["line-item"]}));e.htmlFor=t,e.appendChild(i),e.appendChild(document.createTextNode(n)),this.dropdown_options_container.appendChild(e)}}